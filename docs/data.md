# НТО 2025/2026 — ИИ — Этап 2А: Описание данных и формата решений

Этот документ является справочником по данным и формату файла решения для задачи «Этап 2А: Предсказание оценок».

---

## 1. Описание данных

**Основной формат исходных данных:** CSV с разделителем точка с запятой (`;`) и двойными кавычками (`"`) для экранирования текстовых полей.

### 1.1. Состав предоставляемых файлов

| Файл | Описание |
|------|----------|
| `train.csv` | Обучающая выборка. Содержит историю взаимодействий, включая целевую переменную rating. Является подмножеством общего файла user_books.csv. |
| `test.csv` | Тестовая выборка. Содержит пары (user_id, book_id), для которых необходимо предсказать оценку. Не содержит колонку rating. |
| `sample_submission.csv` | Пример файла решения. Демонстрирует корректный формат для отправки на проверку. |
| `book_data.csv` | Метаданные книг (автор, год публикации и т.д.). |
| `user_data.csv` | Метаданные пользователей (пол, возраст). |
| `genres.csv` | Справочник жанров. |
| `book_genres.csv` | Таблица для связи книг и жанров (многие-ко-многим). |

### 1.2. Описание полей в метаданных

#### book_data.csv: Информация о книгах

| Поле | Тип | Описание |
|------|-----|----------|
| `book_id` | int64 | Уникальный идентификатор книги (первичный ключ). |
| `title` | str | Название книги. |
| `author_id` | int64 | Уникальный идентификатор автора. |
| `author_name` | str | Имя автора. |
| `publication_year` | int64 | Год публикации. |
| `language` | int64 | Числовой код языка книги. |
| `avg_rating` | float64 | Средняя оценка книги (рассчитана по всем взаимодействиям). |
| `publisher` | int64 | Числовой код издательства. |

#### user_data.csv: Информация о пользователях

| Поле | Тип | Описание |
|------|-----|----------|
| `user_id` | int64 | Уникальный идентификатор пользователя (первичный ключ). |
| `gender` | int64 | Пол пользователя (1 — мужской, 2 — женский). |
| `age` | int64 | Возраст пользователя. |

#### genres.csv: Справочник жанров

| Поле | Тип | Описание |
|------|-----|----------|
| `genre_id` | int64 | Уникальный идентификатор жанра (первичный ключ). |
| `genre_name` | str | Название жанра. |
| `books_count` | int64 | Общее количество книг в данном жанре. |

#### book_genres.csv: Связь книг и жанров

| Поле | Тип | Описание |
|------|-----|----------|
| `book_id` | int64 | Идентификатор книги (внешний ключ к book_data). |
| `genre_id` | int64 | Идентификатор жанра (внешний ключ к genres). |

---

## 2. Формат файла решения (сабмита)

Файл с решением должен быть представлен в формате CSV с разделителем запятая (`,`). Файл может содержать заголовок, который будет проигнорирован при проверке.

**Структура колонок:** `user_id,book_id,rating_predict`

**Требования:**
- `user_id`, `book_id` — идентификаторы, соответствующие парам из файла `test.csv`. Порядок строк в файле решения не важен.
- `rating_predict` — предсказанное значение оценки. Вещественное число в диапазоне от 0 до 10. Округлять не требуется. Система автоматически ограничит значения диапазоном [0, 10].
- Файл должен содержать предсказания для всех пар из `test.csv`.
- Максимальный размер файла: 50 МБ.

**Пример содержимого submission.csv:**

```
user_id,book_id,rating_predict
150,25357,7.854
150,18,9.102
24995,136814,5.500
```
